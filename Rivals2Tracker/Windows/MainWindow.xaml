<kwin:kWindow x:Class="Rivals2Tracker.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Rivals2Tracker"
        xmlns:kwin="clr-namespace:kWindows.Core"
        mc:Ignorable="d"
        Title="MainWindow" Height="950" Width="1725"
        Style="{StaticResource BaseWindow}">
    <kwin:kWindow.DataContext>
        <local:MainWindow_VM />
    </kwin:kWindow.DataContext>
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0" ResizeBorderThickness="8, 4, 8, 8" />
    </WindowChrome.WindowChrome>
    <Grid>
        <DockPanel>
            <Grid DockPanel.Dock="Top" Height="30" Background="{StaticResource BG_Titlebar}" MouseDown="EnableDrag">
                <Label Content="Slipstream 1.3.0" HorizontalAlignment="Center"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button x:Name="WindowMinimize" Style="{StaticResource WindowingButton}" Click="WindowMiminizeClick">
                        <Image Style="{StaticResource Windowing_Image}" Source="/Rivals2Tracker;component/Resources/Icons/Windowing/Minimize.png" />
                    </Button>

                    <Button x:Name="WindowMaximize" Style="{StaticResource WindowingButton}" Click="WindowMaximizeClick">
                        <Image Style="{StaticResource Windowing_MaxMinImage}"/>
                    </Button>

                    <Button x:Name="WindowClose" Style="{StaticResource WindowingButton_Close}" Click="WindowCloseClick">
                        <Image Style="{StaticResource Windowing_Image}" Source="/Rivals2Tracker;component/Resources/Icons/Windowing/Close.png" />
                    </Button>
                </StackPanel>
            </Grid>
            <Grid DockPanel.Dock="Bottom">
                <DockPanel LastChildFill="True">
                    <Grid DockPanel.Dock="Left" Width="1180">
                        <DockPanel>
                            <Grid HorizontalAlignment="Stretch">
                                <DockPanel LastChildFill="True">
                                    <Grid DockPanel.Dock="Top" Height="280" Background="{StaticResource BG_ClickedItem}">
                                        <Label Content="{Binding ActiveMatchStatusString}" Width="160" Height="40" FontSize="18" FontWeight="Bold" HorizontalAlignment="Right" HorizontalContentAlignment="Right" VerticalAlignment="Top" Margin="20, 0, 20, 0" />
                                        <Label Content="{Binding ErrorText}" Width="560" Height="40" FontSize="16" FontWeight="DemiBold" HorizontalAlignment="Right" HorizontalContentAlignment="Right" VerticalAlignment="Top" Margin="20, 30, 20, 0" Foreground="#DD4444"/>
                                        <Grid HorizontalAlignment="Right" Width="630" Height="200" VerticalAlignment="Bottom">
                                            <Label Content="Vs" Foreground="#A9A9A9"/>
                                            <Label Content="{Binding ActiveOpponent.Tag}" Margin="20, 0, 0, 0" FontWeight="Bold" />
                                            <Border BorderBrush="#555" BorderThickness="0, 0, 0, 1" Margin="20, 30, 20, 0" Height="1" VerticalAlignment="Top"/>
                                            <StackPanel Margin="10, 33, 0, 0">
                                                <Label Content="Record" Foreground="#A9A9A9"/>
                                                <Grid Margin="0, 0, 0, 0">
                                                    <Label Content="Seasonal:" Foreground="#A9A9A9" Width="80" HorizontalContentAlignment="Right" HorizontalAlignment="Left"/>
                                                    <StackPanel Margin="78, 0, 0, 0" Orientation="Horizontal">
                                                        <Label Content="{Binding ActiveOpponent.WinsSeasonal}" />
                                                        <Label Content=" - " />
                                                        <Label Content="{Binding ActiveOpponent.LosesSeasonal}" />
                                                    </StackPanel>
                                                </Grid>
                                                <Grid>
                                                    <Label Content="Total:"  Margin="0, 0, 0, 0" Foreground="#A9A9A9" Width="80" HorizontalContentAlignment="Right" HorizontalAlignment="Left"/>
                                                    <StackPanel Margin="78, 0, 0, 0" Orientation="Horizontal">
                                                        <Label Content="{Binding ActiveOpponent.WinsTotal}" />
                                                        <Label Content=" - " />
                                                        <Label Content="{Binding ActiveOpponent.LosesTotal}" />
                                                    </StackPanel>
                                                </Grid>
                                            </StackPanel>
                                            
                                            <Border BorderBrush="#555" BorderThickness="1, 0, 0, 0" Margin="180, 30, 0, 0" VerticalAlignment="Top" Height="80"/>

                                            <Label Content="Notes " Foreground="#A9A9A9" Margin="200, 0, 0, 0"/>
                                            <Label Content="{Binding ActiveOpponent.NotesLabel, UpdateSourceTrigger=PropertyChanged}" Height="170" Margin="200, 2, 0, 0" VerticalAlignment="Bottom"/>
                                        </Grid>

                                        <StackPanel Width="100" HorizontalAlignment="Left" Margin="0, 5, 0, 0">
                                            <Label Content="My Rating:" HorizontalContentAlignment="Right" Margin="0, 5, 0, 0" Height="30"/>
                                            <Label Content="Opp. Rating:" HorizontalContentAlignment="Right" Margin="0, 5, 0, 0" Height="30"/>
                                            <Label Content="Opponents:" HorizontalContentAlignment="Right" Margin="0, 5, 0, 0" Height="30"/>
                                            <Label Content="Patch" HorizontalContentAlignment="Right" Margin="0, 5, 0, 0" Height="30"/>
                                            <Label Content="Notes" HorizontalContentAlignment="Right" Margin="0, 5, 0, 0" Height="30"/>
                                            <Label Content="Results:" HorizontalContentAlignment="Right" Margin="0, 10, 0, 0" Height="30"/>
                                        </StackPanel>

                                        <StackPanel Width="500" HorizontalAlignment="Left" Margin="105, 5, 0, 0">
                                            <Grid Margin="0, 7, 0, 0">
                                                <TextBox Text="{Binding ActiveMatch.Me.Elo, UpdateSourceTrigger=PropertyChanged}" Width="80" HorizontalAlignment="Left" TabIndex="1" IsReadOnly="{Binding IsInputLocked}"/>
                                                <Label Content="My Char: " Margin="100, 0, 0, 0"/>
                                                <TextBox Text="{Binding ActiveMatch.Me.Character, UpdateSourceTrigger=PropertyChanged}" Width="150" HorizontalAlignment="Left" Margin="170, 0, 0, 0" IsReadOnly="{Binding IsInputLocked}"/>
                                            </Grid>

                                            <Grid>
                                                <TextBox Text="{Binding ActiveMatch.Opponent.Elo, UpdateSourceTrigger=PropertyChanged}" Width="80" HorizontalAlignment="Left" Margin="0, 9, 0, 0" TabIndex="2" IsReadOnly="{Binding IsInputLocked}"/>
                                                <Label Content="Opp. Tag: " Margin="100, 0, 0, 0"/>
                                                <TextBox Text="{Binding ActiveMatch.Opponent.Name, UpdateSourceTrigger=PropertyChanged}" Width="150" HorizontalAlignment="Left" Margin="170, 0, 0, 0" IsReadOnly="{Binding IsInputLocked}"/>
                                            </Grid>

                                            <Grid Margin="0, 9, 0, 0">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBox Text="{Binding ActiveMatch.Opponent.Character, UpdateSourceTrigger=PropertyChanged}" Width="125" HorizontalAlignment="Left" Margin="0, 0, 10, 0" TabIndex="3" IsReadOnly="{Binding IsInputLocked}"/>
                                                    <TextBox Text="{Binding ActiveMatch.Opponent.Character2, UpdateSourceTrigger=PropertyChanged}" Width="125" HorizontalAlignment="Left" Margin="0, 0, 10, 0" TabIndex="4" IsReadOnly="{Binding IsInputLocked}"/>
                                                    <TextBox Text="{Binding ActiveMatch.Opponent.Character3, UpdateSourceTrigger=PropertyChanged}" Width="125" HorizontalAlignment="Left" TabIndex="5" IsReadOnly="{Binding IsInputLocked}"/>
                                                </StackPanel>
                                            </Grid>

                                            <Grid>
                                                <TextBox Text="{Binding ActiveMatch.Patch, UpdateSourceTrigger=PropertyChanged}" Width="80" HorizontalAlignment="Left" Margin="0, 9, 0, 0" IsReadOnly="{Binding IsInputLocked}"/>
                                                <Label Content="&#xE72B;" Width="40" Height="25" Margin="90, 10, 0, 0" HorizontalAlignment="Left" FontSize="16" FontFamily="Segoe MDL2 Assets"/>
                                                <TextBox Text="{Binding CurrentPatch, UpdateSourceTrigger=PropertyChanged}" Width="80" HorizontalAlignment="Left" Margin="120, 9, 0, 0" />
                                            </Grid>

                                            <TextBox Text="{Binding ActiveMatch.Notes, UpdateSourceTrigger=PropertyChanged}" Width="432" HorizontalAlignment="Left" Margin="0, 9, 0, 0" TabIndex="6" IsReadOnly="{Binding IsInputLocked}"/>

                                            <Grid Margin="0, 9, 0, 0">
                                                <Button Content="Win" Height="40" FontSize="16" Width="100" HorizontalAlignment="Left" Foreground="#33FF33" Command="{Binding SetMatchWinCommand}"/>
                                                <Button Content="Lose" Height="40" FontSize="16" Width="100" Margin="110, 0, 0, 0" HorizontalAlignment="Left" Foreground="#FF3333" Command="{Binding SetMatchLoseCommand}"/>
                                                <Button Content="Discard" Height="40" FontSize="16" Width="100" Margin="220, 0, 0, 0" HorizontalAlignment="Left" Foreground="#DDD" Command="{Binding SetMatchDiscardCommand}"/>
                                                <Button Content="Get Match" Height="40" FontSize="16" Width="100" Margin="330, 0, 0, 0" HorizontalAlignment="Left" Foreground="#6868FF" Command="{Binding TestOcrCommand}"/>
                                            </Grid>
                                        </StackPanel>
                                        
                                        <Label Content="{Binding ActivityText}" Width="630" Height="40" FontSize="15" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="20, 0, 0, 5" Foreground="#9090FF"/>
                                    </Grid>

                                    <Grid Background="{StaticResource BG_Component}">
                                        <Grid Margin="0, 5, 0, 0">
                                            <StackPanel Orientation="Horizontal">
                                                <Label Content="My Elo." Margin="65, 0, 0, 0" FontSize="12" FontWeight="DemiBold"/>
                                                <Label Content="Opp. Elo" Margin="5, 0, 0, 0" FontSize="12" FontWeight="DemiBold"/>
                                                <Label Content="Opponent" Margin="60, 0, 0, 0" FontSize="12" FontWeight="DemiBold" Width="140"/>
                                                <Label Content="Opp. Char" Margin="51, 0, 0, 0" FontSize="12" FontWeight="DemiBold" Width="194"/>
                                                <Label Content="Opp. Char 2" Margin="0, 0, 0, 0" FontSize="12" FontWeight="DemiBold" Width="194"/>
                                                <Label Content="Opp. Char 3" Margin="0, 0, 0, 0" FontSize="12" FontWeight="DemiBold" Width="120"/>
                                            </StackPanel>
                                        </Grid>
                                        <ListView ItemTemplate="{StaticResource MatchResultsTemplate}" ItemsSource="{Binding MatchResults}" Background="{StaticResource BG_Titlebar}" Margin="0, 40, 0, 0" BorderThickness="0"/>
                                    </Grid>
                                </DockPanel>
                            </Grid>
                        </DockPanel>
                    </Grid>

                    <Grid DockPanel.Dock="Right" Background="{StaticResource BG_Titlebar}">
                        <Grid Width="760" HorizontalAlignment="Left" Margin="20, 20, 0, 0">
                            <StackPanel>

                                <Grid>
                                    <Label Content="{Binding CurrentSeasonResults.TableTitle}" FontSize="16" FontWeight="Bold" Width="140" HorizontalContentAlignment="Center" HorizontalAlignment="Left" Margin="220, -30, 0, 0"/>
                                    <Grid Margin="158, 0, 0, 0">
                                        <Label Content="Record" HorizontalContentAlignment="Center" Width="80" HorizontalAlignment="Left"/>
                                        <Label Content="Absolute" Margin="90, 0, 0, 0" HorizontalContentAlignment="Center" Width="80" HorizontalAlignment="Left"/>
                                        <Label Content="Calculated" Margin="190, 0, 0, 0" HorizontalContentAlignment="Center" Width="80" HorizontalAlignment="Left"/>
                                    </Grid>

                                    <Label Content="{Binding AllSeasonResults.TableTitle}" FontSize="16" FontWeight="Bold" Width="340" HorizontalContentAlignment="Center" HorizontalAlignment="Left" Margin="440, -30, 0, 0"/>
                                    <Grid Margin="468, 0, 0, 0">
                                        <Label Content="Record" HorizontalContentAlignment="Center" Width="80" HorizontalAlignment="Left"/>
                                        <Label Content="Absolute" Margin="90, 0, 0, 0" HorizontalContentAlignment="Center" Width="80" HorizontalAlignment="Left"/>
                                        <Label Content="Calculated" Margin="190, 0, 0, 0" HorizontalContentAlignment="Center" Width="80" HorizontalAlignment="Left"/>
                                    </Grid>
                                </Grid>


                                <StackPanel Orientation="Horizontal">
                                    <ListView ItemsSource="{Binding CurrentSeasonResults.CharacterData}" ItemTemplate="{StaticResource MetaResultTemplate}" Background="{StaticResource BG_Titlebar}" BorderThickness="0"/>
                                    <ListView ItemsSource="{Binding AllSeasonResults.CharacterData}" ItemTemplate="{StaticResource MetaResultTemplateShort}" Background="{StaticResource BG_Titlebar}" BorderThickness="0" Margin="-5, 0, 0, 0"/>
                                </StackPanel>

                                <Grid Background="#454545">
                                    <Border BorderBrush="#666" BorderThickness="0, 1, 0, 1" />
                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="Totals:" HorizontalAlignment="Left" FontSize="16" FontWeight="Bold" Margin="48, 0, 0, 0"/>
                                        <Label Content="{Binding CurrentSeasonResults.RecordString}" HorizontalAlignment="Center" FontSize="16" FontWeight="Bold" Margin="61, 0, 0, 0" HorizontalContentAlignment="Center" />
                                        <Label Content="{Binding CurrentSeasonResults.WinPercent}" HorizontalAlignment="Left" FontSize="16" FontWeight="Bold" Margin="75, 0, 0, 0"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="424, 0, 0, 0">
                                        <Label Content="{Binding AllSeasonResults.RecordString}" HorizontalAlignment="Center" FontSize="16" FontWeight="Bold" Margin="46, 0, 0, 0" HorizontalContentAlignment="Center"/>
                                        <Label Content="{Binding AllSeasonResults.WinPercent}" HorizontalAlignment="Left" FontSize="16" FontWeight="Bold" Margin="75, 0, 0, 0"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </DockPanel>
            </Grid>
        </DockPanel>
    </Grid>
</kwin:kWindow>
